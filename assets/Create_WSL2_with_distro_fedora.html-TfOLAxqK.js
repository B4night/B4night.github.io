import{_ as t}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as d,o as r,c as l,b as e,d as a,e as n,a as s}from"./app-yx1WRGhx.js";const i={},c=e("h1",{id:"create-wsl2-with-distro-fedora",tabindex:"-1"},[e("a",{class:"header-anchor",href:"#create-wsl2-with-distro-fedora"},[e("span",null,"Create WSL2 with distro fedora")])],-1),p={href:"https://www.linuxfordevices.com/tutorials/linux/install-fedora-on-windows",target:"_blank",rel:"noopener noreferrer"},f=s('<h1 id="enable-wsl2-on-windows" tabindex="-1"><a class="header-anchor" href="#enable-wsl2-on-windows"><span>Enable wsl2 on windows</span></a></h1><p>Search <code>Turn Windows Features on or off</code> and turn on <code>Windows Subsystem for Linux</code></p><p>Then, use command <code>wsl --set-default-version 2</code> to set WSL version to 2</p><h1 id="download-fedora-tarball-and-get-rootfs" tabindex="-1"><a class="header-anchor" href="#download-fedora-tarball-and-get-rootfs"><span>Download fedora tarball and get rootfs</span></a></h1>',4),u={href:"https://kojipkgs.fedoraproject.org/packages/Fedora-Container-Base",target:"_blank",rel:"noopener noreferrer"},h=s(`<p>Download the right tar file and extract it. Then you can find a file <code>layer.tar</code>. This is the rootfs file we need.</p><p>Then, rename the file to something like <code>fedora-39-rootfs.tar</code></p><h1 id="install-fedora" tabindex="-1"><a class="header-anchor" href="#install-fedora"><span>Install Fedora</span></a></h1><ol><li>Create a directory to store this distro: Execute command <code>mkdir $HOME\\wsl\\fedora</code></li><li>Execute command <code>wsl --import fedora $HOME\\wsl\\fedora path\\to\\fedora-39-rootfs.tar</code> to install Fedora</li></ol><p>You can use <code>wsl -l -v</code> to see all of the distros.</p><h1 id="some-configuration" tabindex="-1"><a class="header-anchor" href="#some-configuration"><span>Some configuration</span></a></h1><ol><li>Upgrade all of the packages: <code>sudo</code> <code>dnf update</code></li><li>Fedora is automatically logged in as fedora, we need to create a user</li></ol><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># Download necessary packages</span>
$ <span class="token function">sudo</span> dnf <span class="token function">install</span> <span class="token parameter variable">-y</span> util-linux <span class="token function">passwd</span> cracklib-dicts

<span class="token comment"># add user</span>
<span class="token function">useradd</span> <span class="token parameter variable">-G</span> wheel <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span>

<span class="token comment"># config password</span>
<span class="token function">passwd</span> <span class="token operator">&lt;</span>username<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Now you can use <code>wsl</code> <code>-d</code> <code>fedora</code> <code>-u</code> &lt;<code>username&gt;</code> to login as user. To log in automatically, you can execute this in the wsl <code>printf &quot;\\n[user]\\ndefault = &lt;username&gt;\\n&quot; | sudo tee -a /etc/wsl.conf</code></p><h1 id="download-man-page" tabindex="-1"><a class="header-anchor" href="#download-man-page"><span>Download <code>man</code> page</span></a></h1><p>This distro doesn&#39;t have <code>man</code> command and we need to config it.</p>`,11),m={href:"https://stackoverflow.com/questions/64205680/cant-find-any-man-pages-in-fedora-docker-image",target:"_blank",rel:"noopener noreferrer"},w=e("ol",null,[e("li",null,[a("Check the last line of file "),e("code",null,"etc/dnf/dnf.conf")]),e("li",null,[a("If it's "),e("code",null,"tsflags=nodocs"),a(", we can use "),e("code",null,"dnf install -y man-pages --setopt='tsflags='"),a(" to download man-pages.")])],-1);function g(_,k){const o=d("ExternalLinkIcon");return r(),l("div",null,[c,e("p",null,[a("Reference: "),e("a",p,[a("https://www.linuxfordevices.com/tutorials/linux/install-fedora-on-windows"),n(o)])]),f,e("p",null,[a("You can find different kind of tarball here: "),e("a",u,[a("https://kojipkgs.fedoraproject.org/packages/Fedora-Container-Base"),n(o)])]),h,e("p",null,[a("Reference: "),e("a",m,[a("https://stackoverflow.com/questions/64205680/cant-find-any-man-pages-in-fedora-docker-image"),n(o)])]),w])}const x=t(i,[["render",g],["__file","Create_WSL2_with_distro_fedora.html.vue"]]);export{x as default};
